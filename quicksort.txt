#include <bits/stdc++.h>
using namespace std;
int partition(int start,int end,int a[])
{
    int pivot=a[start];
    
    int i=start;
    int j=end;
    
    while(i<j)
    {
        do{
            i++;
        }
        while(a[i]<=pivot);
        
        do{
            j--;
        }
        while(a[j]>pivot);
        
    
        if(i<j)
        swap(a[i],a[j]);
    }
    
    swap(a[start],a[j]);
    
    return j;
}
void quicksort(int start,int end,int a[])
{
    if(start==end)
    return;
    
    int pivot=partition(start,end,a);
    quicksort(start,pivot,a);
    quicksort(pivot+1,end,a);
}
int main()
{
    int n;
    cin>>n;
    int a[n];
    for(int i=0;i<n;i++)
    cin>>a[i];
    
    cout<<"Before sorting=";
    for(int i=0;i<n;i++)
    cout<<a[i]<<" ";
    cout<<"\n";
    
    quicksort(0,n,a);
    
    cout<<"After sorting=";
    for(int i=0;i<n;i++)
    cout<<a[i]<<" ";
    cout<<"\n";
}
